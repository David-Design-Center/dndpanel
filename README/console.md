react-dom.development.js:29895 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
LabelContext.tsx:743 📊 System counts derived from labels: Object
deprecations.ts:9 ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
warnOnce @ deprecations.ts:9
deprecations.ts:9 ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.
warnOnce @ deprecations.ts:9
AuthContext.tsx:262 Found existing session, user is authenticated
SecurityContext.tsx:34 User david.v@dnddesigncenter.com is authorized
modern-animated-sign-in.tsx:404 Form submitted
AuthContext.tsx:427 🔍 Admin check - Profile data: Object
AuthContext.tsx:428 🔍 Admin check - is_admin: true
AuthContext.tsx:429 🔍 Admin check - name: David
AuthContext.tsx:430 🔍 Admin check - email: david.v@dnddesigncenter.com
AuthContext.tsx:434 🔍 Admin check - Final result: true
SecurityContext.tsx:34 User david.v@dnddesigncenter.com is authorized
emailService.ts:344 Clearing email cache for profile switch to: c92397ac-c250-4bc0-94c8-4e17d30da31b
emailService.ts:325 Clearing all email caches (memory + localStorage)
ProfileContext.tsx:191 🔑 Clearing GAPI client token for profile switch
gapiService.ts:446 🔑 Clearing current access token from gapiService
ProfileContext.tsx:195 🔄 Dispatching clear-all-caches event for profile switch
LoadingProgressToast.tsx:83 🔄 LoadingProgressToast: Profile switch detected, resetting first trigger flag
LabelContext.tsx:682 🗑️ LabelContext: Clearing labels cache for profile switch
LabelContext.tsx:591 🗑️ Clearing labels cache
ProfileContext.tsx:207 📧 Set current user email: info@effidigi.com
AuthContext.tsx:148 Checking Gmail tokens for profile: Marti
AuthContext.tsx:149 Profile userEmail: info@effidigi.com
AuthContext.tsx:150 Profile object: Object
LabelContext.tsx:743 📊 System counts derived from labels: Object
react-dom.development.js:86 Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?

Check the render method of `Primitive.button.SlotClone`.
    at TutorialsDialog (http://localhost:5173/src/components/common/TutorialsDialog.tsx:24:3)
    at http://localhost:5173/node_modules/.vite/deps/chunk-LPBYGXI2.js?v=3f0e3043:79:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-LPBYGXI2.js?v=3f0e3043:56:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-OAHNTYLA.js?v=3f0e3043:43:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-LPBYGXI2.js?v=3f0e3043:79:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-LPBYGXI2.js?v=3f0e3043:56:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-OAHNTYLA.js?v=3f0e3043:43:13
    at http://localhost:5173/node_modules/.vite/deps/chunk-SI2YLRDE.js?v=3f0e3043:1945:13
    at http://localhost:5173/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=3f0e3043:203:13
    at Provider (http://localhost:5173/node_modules/.vite/deps/chunk-N2ODAK4M.js?v=3f0e3043:38:15)
    at Provider (http://localhost:5173/node_modules/.vite/deps/chunk-N2ODAK4M.js?v=3f0e3043:38:15)
    at Popper (http://localhost:5173/node_modules/.vite/deps/chunk-SI2YLRDE.js?v=3f0e3043:1937:11)
    at Tooltip (http://localhost:5173/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=3f0e3043:111:5)
    at div
    at nav
    at aside
    at Provider (http://localhost:5173/node_modules/.vite/deps/chunk-N2ODAK4M.js?v=3f0e3043:38:15)
    at TooltipProvider (http://localhost:5173/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=3f0e3043:67:5)
    at Sidebar (http://localhost:5173/src/components/layout/Sidebar.tsx:29:18)
    at div
    at InboxLayoutProviderInternal (http://localhost:5173/src/contexts/InboxLayoutContext.tsx:22:40)
    at InboxLayoutProvider (http://localhost:5173/src/contexts/InboxLayoutContext.tsx:105:39)
    at EmailListProvider (http://localhost:5173/src/contexts/EmailListContext.tsx:20:37)
    at PanelSizesProvider (http://localhost:5173/src/contexts/PanelSizesContext.tsx:20:38)
    at LayoutContent (http://localhost:5173/src/components/layout/Layout.tsx:122:3)
    at FoldersColumnProvider (http://localhost:5173/src/contexts/FoldersColumnContext.tsx:20:41)
    at Layout (http://localhost:5173/src/components/layout/Layout.tsx:33:47)
    at FilterCreationProvider (http://localhost:5173/src/contexts/FilterCreationContext.tsx:20:42)
    at ContactsProvider (http://localhost:5173/src/contexts/ContactsContext.tsx:35:36)
    at EmailPreloaderProvider (http://localhost:5173/src/contexts/EmailPreloaderContext.tsx:31:42)
    at ProtectedRoute (http://localhost:5173/src/App.tsx:89:27)
    at RenderedRoute (http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=3f0e3043:4088:5)
    at Routes (http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=3f0e3043:4558:5)
    at App (http://localhost:5173/src/App.tsx:126:3)
    at OutOfOfficeProvider (http://localhost:5173/src/contexts/OutOfOfficeContext.tsx:37:39)
    at OutOfOfficeSettingsProvider (http://localhost:5173/src/contexts/OutOfOfficeSettingsContext.tsx:81:47)
    at LabelProvider (http://localhost:5173/src/contexts/LabelContext.tsx:103:33)
    at ProfileProvider (http://localhost:5173/src/contexts/ProfileContext.tsx:27:35)
    at SecurityProvider (http://localhost:5173/src/contexts/SecurityContext.tsx:22:36)
    at AuthProvider (http://localhost:5173/src/contexts/AuthContext.tsx:31:32)
    at Router (http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=3f0e3043:4501:15)
    at BrowserRouter (http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=3f0e3043:5247:5)
printWarning @ react-dom.development.js:86
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1149 📧 EmailPageLayout useEffect triggered: Object
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
gapiService.ts:168 GAPI client and GIS clients initialized successfully
AuthContext.tsx:121 ✓ External user needs to re-authenticate via OAuth
AuthContext.tsx:170 ❌ Failed to get fresh Gmail token
AuthContext.tsx:177 No valid Gmail token available for profile
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1149 📧 EmailPageLayout useEffect triggered: Object
EmailPageLayout.tsx:1159 📧 Not signed in and auth complete - setting loading false
EmailPageLayout.tsx:1882 📧 Current state: Object
ProfileContext.tsx:251 🔄 Force refreshing all data after profile switch
LabelContext.tsx:695 🔄 LabelContext: Force refresh data event received
AuthContext.tsx:214 🌐 External user detected - using OAuth flow
cb=gapi.loaded_0?le=scs,fedcm_migration_mod:427 Cross-Origin-Opener-Policy policy would block the window.opener call.
(anonymous) @ cb=gapi.loaded_0?le=scs,fedcm_migration_mod:427
cb=gapi.loaded_0?le=scs,fedcm_migration_mod:427 Cross-Origin-Opener-Policy policy would block the window.opener call.
(anonymous) @ cb=gapi.loaded_0?le=scs,fedcm_migration_mod:427
gapiService.ts:396 OAuth Gmail sign-in successful
emailService.ts:443 No valid cache found, fetching fresh email list with query: in:inbox
emailService.ts:448 📧 Queueing Gmail API request for emails...
requestQueue.ts:70 🔄 Executing queued request: fetch-emails-in:inbox-1761390416662-h9l6oee0i
gapiCallWrapper.ts:19 📧 Making drafts.list...
gmailVacationService.ts:97 Getting Gmail vacation responder settings...
LabelContext.tsx:514 🏷️ Labels cache key: c92397ac-c250-4bc0-94c8-4e17d30da31b-info@effidigi.com
LabelContext.tsx:545 🔄 Fetching fresh Gmail labels for profile: Marti email: info@effidigi.com
gapiService.ts:2144 Fetching Gmail labels...
emailService.ts:443 No valid cache found, fetching fresh email list with query: label:INBOX is:unread after:1761304016
emailService.ts:448 📧 Queueing Gmail API request for emails...
requestQueue.ts:70 🔄 Executing queued request: fetch-emails-label:INBOX-is:unread-after:1761304016-1761390416677-fvw5ujttc
gmailVacationService.ts:119 Gmail vacation settings retrieved: Object
gapiService.ts:2156  Raw Gmail API response from list: Object
gapiService.ts:2157 � Found 17 labels, now fetching details with counters...
gapiService.ts:2165  Fetching detailed info for 7 key system labels only
requestQueue.ts:73 ✅ Completed queued request: fetch-emails-label:INBOX-is:unread-after:1761304016-1761390416677-fvw5ujttc
emailService.ts:517 📧 getUnreadEmails using 24h filter: label:INBOX is:unread after:1761304016
gapiService.ts:2189  Fetched details for SENT
gapiService.ts:2189  Fetched details for INBOX
requestQueue.ts:73 ✅ Completed queued request: fetch-emails-in:inbox-1761390416662-h9l6oee0i
gapiService.ts:2189  Fetched details for IMPORTANT
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1149 📧 EmailPageLayout useEffect triggered: Object
EmailPageLayout.tsx:1153 📧 Starting OPTIMIZED fetchAllEmailTypes...
EmailPageLayout.tsx:479 � Starting OPTIMIZED email fetch - reduced from ~38 to ~6-8 API calls...
optimizedInitialLoad.ts:301 🚀 STEP 1: Loading critical inbox data (unread metadata only)...
gmailLabels.ts:46 ✅ Valid Gmail labelIds: Array(3)
gmailLabels.ts:46 ✅ Valid Gmail labelIds: Array(3)
optimizedInitialLoad.ts:105 📧 Optimized fetch: labelIds=[CATEGORY_PERSONAL,INBOX,UNREAD], maxResults=50
gapiCallWrapper.ts:19 📧 Making messages.list with labelIds=[CATEGORY_PERSONAL,INBOX,UNREAD]...
gmailLabels.ts:46 ✅ Valid Gmail labelIds: Array(2)
gmailLabels.ts:46 ✅ Valid Gmail labelIds: Array(2)
optimizedInitialLoad.ts:105 📧 Optimized fetch: labelIds=[CATEGORY_PERSONAL,INBOX], maxResults=50
gapiCallWrapper.ts:19 📧 Making messages.list with labelIds=[CATEGORY_PERSONAL,INBOX]...
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
optimizedInitialLoad.ts:156 📦 Fetching metadata for 50 messages with rate limiting...
gapiService.ts:2189  Fetched details for TRASH
optimizedInitialLoad.ts:231 ✅ Successfully processed 50/50 message metadata
optimizedInitialLoad.ts:320 📧 Lists loaded: 0 unread IDs, 0 additional recent IDs (cached)
optimizedInitialLoad.ts:357 ✅ Critical data loaded: 0 unread with metadata, 0 recent cached, unread count: 0
optimizedInitialLoad.ts:250 📋 Fetching labels (optimized)
gapiCallWrapper.ts:19 📧 Making labels.list...
optimizedInitialLoad.ts:281 📋 Cached 17 labels
EmailPageLayout.tsx:530 📧 Critical data loaded: 0 unread, 0 recent, unread last 24h: 0, 17 labels
optimizedInitialLoad.ts:386 No unread emails for auto-reply processing
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
gapiService.ts:2189  Fetched details for DRAFT
gapiService.ts:2189  Fetched details for SPAM
gapiService.ts:2189  Fetched details for STARRED
gapiService.ts:2201  Raw label details with counters: Array(17)
gapiService.ts:2220 Found 6 labels with message counts
gapiService.ts:2224 KEY SYSTEM LABELS: Array(3)
gapiService.ts:2230 Successfully fetched 17 Gmail labels
LabelContext.tsx:326 🔄 Labels loaded successfully at: 1761390420711
LabelContext.tsx:552 Labels with counts: Array(6)
LabelContext.tsx:376 📬 Hydrating unread counts for 2 user labels...
LabelContext.tsx:743 📊 System counts derived from labels: Object
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
LabelContext.tsx:434 ✅ Finished hydrating user label counts
LabelContext.tsx:743 📊 System counts derived from labels: Object
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
FoldersColumn.tsx:262 useMemo systemFolders - systemCounts: Object recentCounts: Object
FoldersColumn.tsx:323 Inbox unread count: 0 systemCounts: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:1882 📧 Current state: Object
EmailPageLayout.tsx:852 📧 Fetched batch for all/unread: {total: 100, read: 100, unread: 0}
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: true, authLoading: false, isGmailInitializing: false, …}
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: true, authLoading: false, isGmailInitializing: false, …}
optimizedInitialLoad.ts:413 🔄 STEP 2: Prefetching essential folder IDs (metadata on-demand)...
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['SENT']
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['SENT']
optimizedInitialLoad.ts:105 📧 Optimized fetch: labelIds=[SENT], maxResults=15
gapiCallWrapper.ts:19 📧 Making messages.list with labelIds=[SENT]...
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['DRAFT']
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['DRAFT']
optimizedInitialLoad.ts:105 📧 Optimized fetch: labelIds=[DRAFT], maxResults=15
gapiCallWrapper.ts:19 📧 Making messages.list with labelIds=[DRAFT]...
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['IMPORTANT']
gmailLabels.ts:46 ✅ Valid Gmail labelIds: ['IMPORTANT']
optimizedInitialLoad.ts:105 📧 Optimized fetch: labelIds=[IMPORTANT], maxResults=15
gapiCallWrapper.ts:19 📧 Making messages.list with labelIds=[IMPORTANT]...
EmailPageLayout.tsx:632 ✅ OPTIMIZED fetch complete - UI updated with ~6-8 API calls instead of ~38!
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: false, authLoading: false, isGmailInitializing: false, …}
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: false, authLoading: false, isGmailInitializing: false, …}
optimizedInitialLoad.ts:156 📦 Fetching metadata for 15 messages with rate limiting...
optimizedInitialLoad.ts:156 📦 Fetching metadata for 15 messages with rate limiting...
optimizedInitialLoad.ts:231 ✅ Successfully processed 15/15 message metadata
optimizedInitialLoad.ts:231 ✅ Successfully processed 15/15 message metadata
optimizedInitialLoad.ts:428 ✅ Essential folder IDs cached: 15 sent, 0 drafts, 15 important
EmailPageLayout.tsx:594 📧 Essential folders loaded: 15 sent, 0 drafts, 15 important
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: false, authLoading: false, isGmailInitializing: false, …}
EmailPageLayout.tsx:1882 📧 Current state: {activeTab: 'all', filteredEmailsLength: 100, loading: false, authLoading: false, isGmailInitializing: false, …}
